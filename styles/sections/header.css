/* =========================================
   SwiftSend 2.0 â€” Header & Navigation
   Non-sticky translucent gradient header with mobile dropdown
   ========================================= */

/* Map to both legacy (.ss-header) and live (.header) roots */
.ss-header,
.header {
  --header-alpha: 0.68;
  position: relative;
  z-index: 50;
  width: 100%;
  background: linear-gradient(
    90deg,
    rgba(10, 10, 14, var(--header-alpha)),
    rgba(30, 14, 38, var(--header-alpha))
  );
  border-bottom: 1px solid rgba(255, 255, 255, 0.12);
  -webkit-backdrop-filter: blur(18px);
  backdrop-filter: blur(18px);
  transition:
    background var(--dur-base) var(--ease),
    border-color var(--dur-base) var(--ease),
    backdrop-filter var(--dur-base) var(--ease);
}

/* Support both class names for the subtle fade/elevation */
.ss-header.header-fade,
.header.has-shadow {
  --header-alpha: 0.32;
  border-bottom-color: rgba(255, 255, 255, 0.06);
  -webkit-backdrop-filter: blur(12px);
  backdrop-filter: blur(12px);
}

.ss-header .container.header-row,
.header .container.header-row {
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  gap: clamp(16px, 3vw, 44px);
  padding-block: clamp(18px, 2vw, 26px);
}

.brand {
  display: inline-flex;
  align-items: center;
  gap: 12px;
  color: var(--text);
  font-weight: 600;
  letter-spacing: 0.3px;
  text-decoration: none;
}

.brand-logo {
  width: 34px;
  height: 34px;
  filter: drop-shadow(0 6px 16px rgba(214, 60, 255, 0.35));
}

.brand-name {
  font-size: var(--fs-400);
  text-transform: none;
}

/* ---------- Desktop nav ---------- */
.ss-nav {
  display: none;
  align-items: center;
  justify-content: center;
  gap: clamp(12px, 2.8vw, 34px);
}

.nav-link {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 6px 0;
  font-size: var(--fs-300);
  font-weight: 500;
  letter-spacing: 0.24px;
  color: rgba(232, 232, 240, 0.74);
  transition: color var(--dur-quick) var(--ease), transform var(--dur-quick) var(--ease);
}

.nav-link[data-underline]::after {
  bottom: -6px;
  height: 2px;
}

.nav-link.is-active,
.nav-link:where(:hover, :focus-visible) {
  color: #fff;
  transform: translateY(-1px);
}

.header-actions {
  display: inline-flex;
  align-items: center;
  gap: clamp(12px, 2vw, 20px);
}

.header-cta {
  display: none;
  align-items: center;
  justify-content: center;
  padding-inline: clamp(18px, 3vw, 28px);
  border-radius: var(--radius-pill);
  font-size: var(--fs-300);
  box-shadow: 0 10px 30px rgba(214, 60, 255, 0.28);
  white-space: nowrap;
}

.header-cta::after {
  border-radius: inherit;
}

/* Map styles to both .hamburger and the live opener .menu-toggle[data-open-menu] */
.hamburger,
.menu-toggle[data-open-menu] {
  display: inline-flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 5px;
  width: 44px;
  height: 44px;
  border-radius: var(--radius-pill);
  border: 1px solid rgba(255, 255, 255, 0.18);
  background: rgba(255, 255, 255, 0.06);
  transition:
    border-color var(--dur-quick) var(--ease),
    background var(--dur-quick) var(--ease),
    transform var(--dur-quick) var(--ease);
  cursor: pointer;
}

.hamburger span,
.menu-toggle[data-open-menu] span {
  display: block;
  width: 20px;
  height: 2px;
  border-radius: 999px;
  background: #fff;
  transition: transform var(--dur-quick) var(--ease), opacity var(--dur-quick) var(--ease);
}

.hamburger:where(:hover, :focus-visible),
.menu-toggle[data-open-menu]:where(:hover, :focus-visible) {
  transform: translateY(-1px);
  border-color: rgba(255, 255, 255, 0.32);
  background: rgba(255, 255, 255, 0.1);
}

/* Expanded visual (hamburger to X) */
.hamburger[aria-expanded="true"] span:nth-child(1),
.menu-toggle[aria-expanded="true"] span:nth-child(1) {
  transform: translateY(7px) rotate(45deg);
}
.hamburger[aria-expanded="true"] span:nth-child(2),
.menu-toggle[aria-expanded="true"] span:nth-child(2) {
  opacity: 0;
}
.hamburger[aria-expanded="true"] span:nth-child(3),
.menu-toggle[aria-expanded="true"] span:nth-child(3) {
  transform: translateY(-7px) rotate(-45deg);
}

/* ---------- Mobile menu overlay ---------- */
/* Map to both legacy and live menu containers */
.ss-mobile-menu,
#mobileMenu.mobile-menu[role="dialog"][aria-modal="true"] {
  position: fixed;
  inset: 0;
  z-index: 100;
  display: grid;
  place-items: center;
  padding: clamp(24px, 6vw, 48px);
  background:
    radial-gradient(120% 100% at 10% -10%, rgba(214, 60, 255, 0.22), transparent 60%),
    radial-gradient(120% 100% at 90% 0%, rgba(255, 122, 0, 0.18), transparent 60%),
    rgba(8, 8, 12, 0.78);
  -webkit-backdrop-filter: blur(18px);
  backdrop-filter: blur(18px);
  opacity: 0;
  pointer-events: none;
  transition: opacity var(--dur-base) var(--ease);
}

.ss-mobile-menu[aria-hidden="false"],
#mobileMenu.mobile-menu[aria-hidden="false"] {
  opacity: 1;
  pointer-events: auto;
}

/* Inner content (support both class names) */
.ss-mobile-menu__inner,
.mobile-menu__inner {
  width: min(94vw, 420px);
  display: grid;
  gap: clamp(20px, 5vw, 32px);
  padding: clamp(20px, 5vw, 36px);
  border-radius: var(--radius-lg);
  border: 1px solid rgba(255, 255, 255, 0.18);
  background: rgba(14, 14, 20, 0.82);
  box-shadow: 0 20px 80px rgba(0, 0, 0, 0.55);
  position: relative;
}

/* Close button (map utility + attribute hook) */
.ss-menu-close,
.mobile-menu__close,
[data-close-menu].ss-menu-close {
  position: absolute;
  top: clamp(12px, 3vw, 18px);
  right: clamp(12px, 3vw, 18px);
  width: 44px;
  height: 44px;
  border-radius: var(--radius-pill);
  border: 1px solid rgba(255, 255, 255, 0.18);
  background: rgba(255, 255, 255, 0.08);
  color: #fff;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 1.4rem;
  transition: transform var(--dur-quick) var(--ease), border-color var(--dur-quick) var(--ease);
}

.ss-menu-close:where(:hover, :focus-visible),
.mobile-menu__close:where(:hover, :focus-visible),
[data-close-menu].ss-menu-close:where(:hover, :focus-visible) {
  transform: translateY(-1px);
  border-color: rgba(255, 255, 255, 0.32);
}

.ss-mobile-nav {
  display: grid;
  gap: clamp(12px, 3vw, 18px);
  margin-top: clamp(24px, 5vw, 36px);
}

/* Links inside mobile menu (support both class names) */
.ss-mobile-link,
.mobile-menu__link {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: clamp(14px, 4vw, 18px);
  border-radius: var(--radius-pill);
  border: 1px solid rgba(255, 255, 255, 0.18);
  background: rgba(255, 255, 255, 0.04);
  font-size: 1.02rem;
  font-weight: 600;
  letter-spacing: 0.24px;
  color: #fff;
  transition:
    transform var(--dur-quick) var(--ease),
    border-color var(--dur-quick) var(--ease),
    background var(--dur-quick) var(--ease);
}

.ss-mobile-link:where(:hover, :focus-visible),
.mobile-menu__link:where(:hover, :focus-visible) {
  transform: translateY(-2px);
  border-color: rgba(255, 255, 255, 0.38);
  background: rgba(255, 255, 255, 0.1);
}

.ss-mobile-link[data-underline]::after,
.mobile-menu__link[data-underline]::after {
  bottom: -6px;
  height: 2px;
}

/* Mobile CTA */
.ss-mobile-cta {
  display: inline-flex;
  justify-content: center;
  align-items: center;
  padding-block: clamp(14px, 4vw, 18px);
  font-size: 1.02rem;
  border-radius: var(--radius-pill);
  box-shadow: 0 14px 40px rgba(214, 60, 255, 0.45);
}

.ss-mobile-cta::after {
  border-radius: inherit;
}

/* Scroll lock (support both classes) */
body.menu-open,
body.is-locked {
  overflow: hidden;
  touch-action: none;
}

/* ---------- Responsive ---------- */
@media (min-width: 1024px) {
  .ss-nav {
    display: inline-flex;
  }

  .header-cta {
    display: inline-flex;
  }

  .hamburger,
  .menu-toggle[data-open-menu] {
    display: none;
  }
}

@media (max-width: 640px) {
  .ss-header .container.header-row,
  .header .container.header-row {
    gap: var(--space-3);
    padding-block: 16px;
  }
}

@media (prefers-reduced-motion: reduce) {
  .ss-header,
  .header,
  .ss-mobile-menu,
  #mobileMenu.mobile-menu,
  .ss-mobile-menu__inner,
  .mobile-menu__inner,
  .ss-mobile-link,
  .mobile-menu__link,
  .hamburger,
  .menu-toggle[data-open-menu],
  .header-cta,
  .ss-menu-close,
  .mobile-menu__close {
    transition: none !important;
  }
}
